<div class='app-container container-sm stats-container'>
    <div class='row'>
        <div class='col-12 px-0 px-sm-3 mt-2 mt-sm-4' *ngIf='statistics && (statistics?.hasPrev || statistics?.hasNext)'>
            <nav aria-label="pagination">
                <ul class="pagination justify-content-start justify-content-sm-center mb-0 mb-sm-2">
                    <li [class.disabled]='!statistics || !(statistics?.hasPrev)' class="page-item" title="show me the previous scores" (click)='getPrev()'>
                        <a class="page-link">❮ Previous</a></li>
                    <li [class.disabled]='!statistics || !(statistics?.hasNext)' class="page-item" title="show me the next scores" (click)='getNext()'>
                        <a class="page-link">Next ❯</a></li>
                        &nbsp;
                    <li class="page-item" title="back to minesweeper"><a routerLink='/' class="page-link"> ❮ &#625; </a></li>
                </ul>
            </nav>
        </div>
        <div class='col-12 px-0 px-sm-3 my-5' *ngIf='!statistics'>
            <div class="d-flex justify-content-center mt-2">
                <div class="spinner-grow themed-spinner" role="status">
                  <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        </div>
        <div class='col-12 px-0 px-sm-3' *ngIf='statistics'>
            <table class="table table-striped table-borderless mb-0 mb-sm-2">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">user</th>
                        <th scope="col">game</th>
                        <th scope="col">time (s)</th>
                    </tr>
                </thead>
                <tbody class='opacity-animation' [class.fadeIn]='statistics'>
                    <tr *ngFor='let record of statistics?.data' id='{{record.docid}}' [class.highlight]='record.docid == scrollToId'>
                        <td>
                            {{record.pagerankid}}
                        </td>
                        <td [class.is-current-user]='(authService.userData | async)?.uid == record.uid'>{{record.name}} <span *ngIf='record.pagerankid == 1' class='winner-badge'>★</span></td>
                        <td><span [innerHTML]="record.gamealias"></span> {{record.gametype}}</td>
                        <td>{{(record.time / 1000).toFixed(1)}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class='col-12 px-0 px-sm-3 mt-2 mt-sm-2' *ngIf='statistics && (statistics?.hasPrev || statistics?.hasNext)'>
            <nav aria-label="pagination">
                <ul class="pagination justify-content-start justify-content-sm-center  mb-0 mb-sm-2">
                    <li [class.disabled]='!statistics || !(statistics?.hasPrev)' class="page-item" title="show me the previous scores" (click)='getPrev()'>
                        <a class="page-link">❮ Previous</a></li>
                    <li [class.disabled]='!statistics || !(statistics?.hasNext)' class="page-item" title="show me the next scores" (click)='getNext()'>
                        <a class="page-link">Next ❯</a></li>
                        &nbsp;
                    <li class="page-item" title="back to minesweeper"><a routerLink='/' class="page-link"> ❮ &#625; </a></li>
                </ul>
            </nav>
        </div>
    </div>
</div>